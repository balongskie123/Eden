name: Windows CMake Build Only

on:
  push:
    branches: [ "main", "master" ]
  pull_request:
    branches: [ "main", "master" ]

jobs:
  build_windows:
    runs-on: windows-latest
    
    strategy:
      matrix:
        build_type: [Debug, Release]

    steps:
      # Step 1: Checkout the repository code
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          submodules: true

      # Step 2: Install Boost Dependency (Boost is often found by CMake on Windows 
      # if a recent Visual Studio is used, but for robustness, you might need vcpkg or similar.)
      # If your project uses vcpkg, you'd add a vcpkg step here. 
      # For now, we rely on CMake finding Boost, or assume it's included in 'deps'.
      
      # Step 3: Configure CMake
      # Note: PowerShell syntax is automatically used here.
      - name: Configure CMake
        run: |
          cmake -S . -B build -DCMAKE_BUILD_TYPE=${{ matrix.build_type }}

      # Step 4: Build the project
      - name: Build
        run: cmake --build build --config ${{ matrix.build_type }} --parallel

      # Step 5: (Optional) Upload the resulting executable
      - name: Upload Artifact
        uses: actions/upload-artifact@v4
        with:
          name: Eden-executable-Windows-${{ matrix.build_type }}
          path: build/Your/Executable/Path/Here.exe # <-- Update this path
